{"ast":null,"code":"import _classCallCheck from \"/Users/zhoushixiong/zsx_work/FangAllOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zhoushixiong/zsx_work/FangAllOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/zhoushixiong/zsx_work/FangAllOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/zhoushixiong/zsx_work/FangAllOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/zhoushixiong/zsx_work/FangAllOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\n\nvar _dec,\n    _dec2,\n    _dec3,\n    _class,\n    _jsxFileName = \"/Users/zhoushixiong/zsx_work/FangAllOne/src/components/pages/login.tsx\";\n\nimport React from 'react';\nimport { withRouter } from 'react-router';\nimport LoginFormWithMobx from '../withMobx/LoginFormWithMobx';\nimport loginFormStore from '../../mobx/components/LoginFormStore';\nimport { observer, inject } from 'mobx-react';\nimport pageStyles from './pageStyle';\nimport { withStyles, Typography } from '@material-ui/core';\nimport LayoutWithMobx from '../withMobx/LayoutWithMobx';\nimport FormCardVertical from '../stateless/FormCardVertical';\nvar Login = (_dec = inject('currentUser'), _dec2 = inject('msg'), _dec3 = inject('app'), _dec(_class = _dec2(_class = _dec3(_class = observer(_class =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.redirectSuccess = function (isSuccess) {\n      var _this$props = _this.props,\n          history = _this$props.history,\n          currentUser = _this$props.currentUser;\n\n      if (isSuccess) {\n        history.push('/dashboard');\n\n        _this.props.msg.show('登录成功');\n\n        currentUser.checkLogined();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props2 = this.props,\n          currentUser = _this$props2.currentUser,\n          history = _this$props2.history;\n\n      if (currentUser.isLogined) {\n        history.push('/dashboard');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          app = _this$props3.app,\n          classes = _this$props3.classes;\n      return React.createElement(LayoutWithMobx, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(FormCardVertical, {\n        style: {\n          width: '85%',\n          paddingTop: 20,\n          minWidth: 318,\n          minHeight: 500\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        className: classes.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"\\u767B\\u5F55\", app.name), React.createElement(LoginFormWithMobx, {\n        store: loginFormStore,\n        redirectSuccess: this.redirectSuccess,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Login;\n}(React.Component)) || _class) || _class) || _class) || _class);\nexport default withStyles(pageStyles)(withRouter(Login));","map":{"version":3,"sources":["/Users/zhoushixiong/zsx_work/FangAllOne/src/components/pages/login.tsx"],"names":["React","withRouter","LoginFormWithMobx","loginFormStore","observer","inject","pageStyles","withStyles","Typography","LayoutWithMobx","FormCardVertical","Login","redirectSuccess","isSuccess","props","history","currentUser","push","msg","show","checkLogined","isLogined","app","classes","width","paddingTop","minWidth","minHeight","title","name","Component"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA,OAAOC,iBAAP,MAA8B,+BAA9B;AACA,OAAOC,cAAP,MAA2B,sCAA3B;AACA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,YAAjC;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,mBAAvC;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;IAMMC,K,WAJLN,MAAM,CAAC,aAAD,C,UACNA,MAAM,CAAC,KAAD,C,UACNA,MAAM,CAAC,KAAD,C,8CACND,Q;;;;;;;;;;;;;;;;;;UAEGQ,e,GAAkB,UAACC,SAAD,EAAmB;AAAA,wBACA,MAAKC,KADL;AAAA,UACzBC,OADyB,eACzBA,OADyB;AAAA,UAChBC,WADgB,eAChBA,WADgB;;AAEjC,UAAGH,SAAH,EAAa;AACTE,QAAAA,OAAO,CAACE,IAAR,CAAa,YAAb;;AACA,cAAKH,KAAL,CAAWI,GAAX,CAAeC,IAAf,CAAoB,MAApB;;AACAH,QAAAA,WAAW,CAACI,YAAZ;AAEH;AAEJ,K;;;;;;;wCAGkB;AAAA,yBACkB,KAAKN,KADvB;AAAA,UACPE,WADO,gBACPA,WADO;AAAA,UACMD,OADN,gBACMA,OADN;;AAEf,UAAGC,WAAW,CAACK,SAAf,EAAyB;AACrBN,QAAAA,OAAO,CAACE,IAAR,CAAa,YAAb;AACH;AACJ;;;6BAGO;AAAA,yBACqB,KAAKH,KAD1B;AAAA,UACIQ,GADJ,gBACIA,GADJ;AAAA,UACSC,OADT,gBACSA,OADT;AAEJ,aACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAE;AACrBC,UAAAA,KAAK,EAAE,KADc;AAErBC,UAAAA,UAAU,EAAE,EAFS;AAGrBC,UAAAA,QAAQ,EAAE,GAHW;AAIrBC,UAAAA,SAAS,EAAE;AAJU,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMK,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,YAAY,MAArC;AAAsC,QAAA,SAAS,EAAEJ,OAAO,CAACK,KAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACON,GAAG,CAACO,IADX,CANL,EASK,oBAAC,iBAAD;AAAmB,QAAA,KAAK,EAAE1B,cAA1B;AAA0C,QAAA,eAAe,EAAE,KAAKS,eAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATL,CADH,CADJ;AAgBH;;;;EAvCeZ,KAAK,CAAC8B,S;AA2C1B,eAAgBvB,UAAU,CAACD,UAAD,CAAV,CAAuBL,UAAU,CAACU,KAAD,CAAjC,CAAhB","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router';\nimport { IPageProps } from '../../interfaces/components';\nimport LoginFormWithMobx from '../withMobx/LoginFormWithMobx';\nimport loginFormStore from '../../mobx/components/LoginFormStore';\nimport { observer, inject } from 'mobx-react';\nimport pageStyles from './pageStyle';\nimport { withStyles, Typography } from '@material-ui/core';\nimport LayoutWithMobx from '../withMobx/LayoutWithMobx';\nimport FormCardVertical from '../stateless/FormCardVertical';\n\n@inject('currentUser')\n@inject('msg')\n@inject('app')\n@observer\nclass Login extends React.Component<IPageProps> {\n    redirectSuccess = (isSuccess:any) => {\n        const { history, currentUser } = this.props;\n        if(isSuccess){\n            history.push('/dashboard');\n            this.props.msg.show('登录成功');\n            currentUser.checkLogined();\n        \n        }\n        \n    }\n\n\n    componentDidMount(){\n        const { currentUser, history } = this.props;\n        if(currentUser.isLogined){\n            history.push('/dashboard');\n        }\n    }\n  \n\n    render(){\n        const { app, classes } = this.props;\n        return (\n            <LayoutWithMobx>\n               <FormCardVertical style={{\n                   width: '85%',\n                   paddingTop: 20,\n                   minWidth: 318,\n                   minHeight: 500\n               }}>\n                    <Typography variant=\"h4\" gutterBottom className={classes.title}>\n                        登录{app.name}\n                    </Typography>\n                    <LoginFormWithMobx store={loginFormStore} redirectSuccess={this.redirectSuccess} />\n               </FormCardVertical>\n               \n            </LayoutWithMobx>\n        )\n    }\n    \n}\n\nexport default  withStyles(pageStyles)(withRouter(Login as any));"]},"metadata":{},"sourceType":"module"}