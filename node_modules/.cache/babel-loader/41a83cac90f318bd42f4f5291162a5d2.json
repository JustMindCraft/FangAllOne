{"ast":null,"code":"import _regeneratorRuntime from \"/Users/zhoushixiong/zsx_work/FangAllOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/zhoushixiong/zsx_work/FangAllOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _initializerDefineProperty from \"/Users/zhoushixiong/zsx_work/FangAllOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _classCallCheck from \"/Users/zhoushixiong/zsx_work/FangAllOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zhoushixiong/zsx_work/FangAllOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _applyDecoratedDescriptor from \"/Users/zhoushixiong/zsx_work/FangAllOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/Users/zhoushixiong/zsx_work/FangAllOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor, _descriptor2;\n\nimport { observable, action, computed } from \"mobx\";\nimport { api } from \"../../api\"; // import { auth } from \"../../api\";\n// import { AUTH } from \"../../constants/API\";\n\nimport { UPDATE, SHOW_UNIQUE } from './../../constants/API';\nexport var HomeBannerStore = (_class =\n/*#__PURE__*/\nfunction () {\n  function HomeBannerStore() {\n    _classCallCheck(this, HomeBannerStore);\n\n    _initializerDefineProperty(this, \"img\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"name\", _descriptor2, this);\n  }\n\n  _createClass(HomeBannerStore, [{\n    key: \"checkImg\",\n    value: function checkImg(value) {\n      return this.img = value;\n    }\n  }, {\n    key: \"upload\",\n    value: function () {\n      var _upload = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var cb,\n            img,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                cb = _args.length > 0 && _args[0] !== undefined ? _args[0] : function (msg) {};\n                console.log('1232131231231231232312312');\n                img = this.img;\n                console.log(img);\n                console.log(this.userId);\n                api('home_banners', UPDATE, {\n                  id: this.userId\n                }, {\n                  images: img\n                }).then(function (rlt) {\n                  console.log(rlt);\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function upload() {\n        return _upload.apply(this, arguments);\n      }\n\n      return upload;\n    }()\n  }, {\n    key: \"getImg\",\n    value: function () {\n      var _getImg = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        var cb,\n            _args2 = arguments;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                cb = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : function (msg) {};\n                console.log('走了这里！！！');\n                api('home_banners', SHOW_UNIQUE, {\n                  key: this.userId,\n                  token: this.token\n                }).then(function (rlt) {\n                  console.log(rlt);\n                  _this.img = rlt.data.images;\n                });\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getImg() {\n        return _getImg.apply(this, arguments);\n      }\n\n      return getImg;\n    }()\n  }, {\n    key: \"userId\",\n    get: function get() {\n      return window.localStorage.getItem('fang_userId');\n    }\n  }, {\n    key: \"token\",\n    get: function get() {\n      return window.localStorage.getItem('fang_token');\n    }\n  }]);\n\n  return HomeBannerStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"img\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"name\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'zsx';\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"checkImg\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"checkImg\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"userId\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"userId\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"token\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"token\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"upload\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"upload\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"getImg\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"getImg\"), _class.prototype)), _class);\nvar homeBannerStore = new HomeBannerStore();\nexport default homeBannerStore;","map":{"version":3,"sources":["/Users/zhoushixiong/zsx_work/FangAllOne/src/mobx/components/HomeBannerStore.ts"],"names":["observable","action","computed","api","UPDATE","SHOW_UNIQUE","HomeBannerStore","value","img","cb","msg","console","log","userId","id","images","then","rlt","key","token","data","window","localStorage","getItem","homeBannerStore"],"mappings":";;;;;;;;;;AAAA,SAASA,UAAT,EAAqBC,MAArB,EAA6BC,QAA7B,QAA6C,MAA7C;AACA,SAASC,GAAT,QAAoB,WAApB,C,CACA;AACA;;AACA,SAASC,MAAT,EAAiBC,WAAjB,QAAmC,uBAAnC;AAEA,WAAaC,eAAb;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAGqBC,KAHrB,EAG+B;AAEvB,aAAO,KAAKC,GAAL,GAAWD,KAAlB;AACH;AANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeyBE,gBAAAA,EAfzB,2DAeqC,UAACC,GAAD,EAAW,CAAE,CAflD;AAgBQC,gBAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AAEIJ,gBAAAA,GAlBZ,GAkBkB,KAAKA,GAlBvB;AAmBQG,gBAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACAG,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,MAAjB;AAEAV,gBAAAA,GAAG,CAAC,cAAD,EAAgBC,MAAhB,EAAuB;AAACU,kBAAAA,EAAE,EAAC,KAAKD;AAAT,iBAAvB,EAAwC;AACvCE,kBAAAA,MAAM,EAACP;AADgC,iBAAxC,CAAH,CAEGQ,IAFH,CAEQ,UAACC,GAAD,EAAW;AACfN,kBAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AAGH,iBAND;;AAtBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgCyBR,gBAAAA,EAhCzB,8DAgCqC,UAACC,GAAD,EAAW,CAAE,CAhClD;AAkCQC,gBAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAEAT,gBAAAA,GAAG,CAAC,cAAD,EAAgBE,WAAhB,EAA4B;AAACa,kBAAAA,GAAG,EAAC,KAAKL,MAAV;AAAiBM,kBAAAA,KAAK,EAAC,KAAKA;AAA5B,iBAA5B,CAAH,CAAmEH,IAAnE,CAAwE,UAACC,GAAD,EAAW;AAC/EN,kBAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACA,kBAAA,KAAI,CAACT,GAAL,GAASS,GAAG,CAACG,IAAJ,CAASL,MAAlB;AAGH,iBALD;;AApCR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBAO0B;AAClB,aAAOM,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,aAA5B,CAAP;AAEH;AAVL;AAAA;AAAA,wBAWyB;AACjB,aAAOF,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CAAP;AACH;AAbL;;AAAA;AAAA,wEACKvB,UADL;AAAA;AAAA;AAAA;AAAA;AAAA,WACoB,EADpB;AAAA;AAAA,wEAEKA,UAFL;AAAA;AAAA;AAAA;AAAA;AAAA,WAEqB,KAFrB;AAAA;AAAA,6DAGKC,MAHL,4IAOKC,QAPL,yIAWKA,QAXL,yIAeKD,MAfL,0IAgCKA,MAhCL;AA+CA,IAAMuB,eAAe,GAAG,IAAIlB,eAAJ,EAAxB;AAEA,eAAekB,eAAf","sourcesContent":["import { observable, action, computed } from \"mobx\";\nimport { api } from \"../../api\";\n// import { auth } from \"../../api\";\n// import { AUTH } from \"../../constants/API\";\nimport { UPDATE ,SHOW_UNIQUE} from './../../constants/API';\n\nexport class HomeBannerStore{\n    @observable img=[]\n    @observable name='zsx'\n    @action checkImg(value:any){\n        \n        return this.img = value;\n    }\n    @computed get userId(){\n        return window.localStorage.getItem('fang_userId');\n\n    }\n    @computed get token(){\n        return window.localStorage.getItem('fang_token');\n    }\n    \n    @action async upload(cb:Function=(msg:any)=>{}){\n        console.log('1232131231231231232312312');\n        \n        let img = this.img;\n        console.log(img);\n        console.log(this.userId);\n        \n        api('home_banners',UPDATE,{id:this.userId},{\n            images:img\n        }).then((rlt:any)=>{\n            console.log(rlt);\n            \n            \n        })\n        \n        \n    }\n    @action async getImg(cb:Function=(msg:any)=>{}){\n        \n        console.log('走了这里！！！');\n        \n        api('home_banners',SHOW_UNIQUE,{key:this.userId,token:this.token}).then((rlt:any)=>{\n            console.log(rlt);\n            this.img=rlt.data.images\n            \n            \n        })\n        \n        \n    }\n}\n\nconst homeBannerStore = new HomeBannerStore()\n\nexport default homeBannerStore;"]},"metadata":{},"sourceType":"module"}